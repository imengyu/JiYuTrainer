<html>
<head>
    <title>JiYu Trainer Main Window</title>
    <style>
        html {
            background: transparent;
            overflow: hidden;
        }

        /* Window anim*/

        body {
            font-family: "Microsoft YaHei", Tahoma, sans-serif;
            transition: transform linear 150ms, opacity linear 150ms;
            opacity: .3;
        }
        body.shown {
            opacity: 1;
        }
        body.minize {
            transition: opacity linear 100ms;
            opacity: .3;
        }

        .window-shadow {
            position: relative;
        }
        .window-box {
            display: block;
            position: relative;
            margin: 20px;
            border-radius: 10px;
            box-shadow: 0 0 13px rgba(0,0,0,.5);
            background-color: #fff;
            height: 480px;
        }

        /* Window title*/
        .window-title-area {
            position: relative;
            height: 36px;
        }
        .window-title-area h5 {
            display: inline-block;
            position: absolute;
            top: 3px;
            left: 50px;
            width: 300px;
            color: #fff;
        }
        .window-title-area img {
            display: inline-block;
            width: 16px;
            height: 16px;
            position: absolute;
            top: 20px;
            left: 20px;
        }

        /* Window close*/
        .title-close {
            display: inline-block;
            width: 32px;
            height: 32px;
            position: absolute;
            top: 12px;
            right: 15px;
            background: url(res:btn-close.png) no-repeat 0px 0;
            border-radius: 50%;
        }
        .title-close.black {
            background-position: -96px 0;
        }
        .title-close:hover {
             background-position: -32px 0;
        }
        .title-min {
            display: inline-block;
            width: 32px;
            height: 32px;
            position: absolute;
            top: 12px;
            right: 50px;
            background: url(res:btn-min.png) no-repeat 0px 0;
            border-radius: 50%;
        }
        .title-min:hover {
             background-position: -32px 0;
        }

        .window-area {
            display: block;
            position: relative;
            width: 100%;
            height: 390px;
            border-radius: 10px;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }
        .state-ok .window-area {
            background: linear-gradient(to bottom, rgb(46,164,240) 0%,rgb(46,140,240) 100%);
        }
        .state-work .window-area {
            background: linear-gradient(to bottom, rgb(0, 204, 5) 0%,rgb(40, 140, 0) 100%);
        }
        .state-notwork .window-area {
            background: linear-gradient(to bottom, rgb(108, 117, 125) 0%,rgb(77, 88, 99) 100%);
        }
        .state-warn .window-area {
            background: linear-gradient(to bottom, rgba(255, 153, 0, 0.77) 0%,rgb(228, 126, 0) 100%);
        }


        .window-footer-area {
            position: absolute;
            width: 374px;
            height: 180px;
            bottom: 55px;
            left: 0;
            right: 0;
            background-repeat: no-repeat;
            background-size: 374px 180px;
            background-image: url(res:footer-mask.png);
        }
        /*
        .state-ok .window-footer-area {
            background-image: url(res:footer-xok.png);
        }
        .state-warn .window-footer-area {
            background-image: url(res:footer-xwarn.png);
        }
        .state-notwork .window-footer-area {
            background-image: url(res:footer-xnotwork.png);
        }
        .state-work .window-footer-area {
            background-image: url(res:footer-xwork.png);
        }
        */


        /* Window extend area */
        .window-extend-area {
            display: none;
            z-index: 10;
            position: absolute;
            bottom: 0;
            left: -5px;
            right: -5px;
            top: 60px;
            bottom: 100px;
            transform: scale(0.8);
            border-radius: 10px;
            box-shadow: 0px 0px 10px 0px rgba(0,0,0,.3);
            background-color: #fff;
            opacity: 0;
            transition: transform linear 100ms, opacity linear 100ms;
            padding: 3px 10px;
        }
        .window-extend-area.shown {
            display: block;
             transform: scale(1);
            opacity: 1;
        }
        .window-extend-area.hidden{
             display: block;
             transform: scale(0.8) ;
             opacity: 0;
        }
        .window-extend-area.upper {
           z-index: 15;
        }
        .window-extend-area-mask {
            display: none;
            opacity: 0;
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background-color: #000;
            transition: opacity linear 150ms;
            z-index: 1;
        }
        .window-extend-area-mask.upper {
            z-index: 11;
        }
        .window-extend-area.shown.with-mask + .window-extend-area-mask {
            display: block;
            opacity: 0.3;
            border-radius: 10px;
        }

        #common_message {
            padding: 10px 20px;
            top: 150px;
            bottom: 150px;
        }
        #update_message {

            bottom: 70px;
            top: 60px;
            left: 15px;
            right: 15px;
            padding: 10px 20px;
            background-image: url(res:update_bg.png);
            background-repeat: no-repeat;
            background-position: 0 -44px;
        }
        #update_message_text {
            margin-top: 30px;
            padding:  20px;
        }
        #update_message_text ol, #update_message_text ul {
            margin: 0;
            padding: 0;
        }
        #isnew_message {
            bottom: 121px;
            top: 100px;
            left: 15px;
            right: 15px;
            padding: 10px 20px;
            background-image: url(res:update_bg.png);
            background-repeat: no-repeat;
            background-position: left -30px;
        }
        #isnew_message_text {
            margin-top: 55px;
            padding: 20px;
        }

        /* Window base content */
        .main-state {
            text-align: center;
        }
        .main-state .inner {
            display: inline-block;
            width: 190px;
            height: 190px;
            margin-top: 15px;
            margin-left: 5px;
            background-image: url(res:bg-main-state.png);
        }
        .main-state .inner img {
            display: inline-block;
            width: 94px;
            height: 94px;
            background: url(res:states.png) no-repeat 0px 0;
            margin-top: 48px;
        }
        .main-state .inner img.state-ctl-no-lock {
            background-position: -0px 0;
        }        
        .main-state .inner img.state-ctl-unlock {
            background-position: -94px 0;
        }
        .main-state .inner img.state-failed {
            background-position: -188px 0;
        }
        .main-state .inner img.state-manual-stop {
            background-position: -282px 0;
        }
        .main-state .inner img.state-not-found {
            background-position: -376px 0;
        }
        .main-state .inner img.state-unknow-problem {
            background-position: -470px 0;
        }
        .main-state .inner img.state-not-run {
            background-position: -564px 0;
        }

        .main-state .status-text {
            display: inline-block;
            margin-top: 10px;
            color: #fff;
            font-size: 16px;
            font-weight: bold;
        }
        .main-state .status-text2 {
            display: inline-block;
            margin-top: 3px;
            color: #fff;
            font-size: 14px;
        }

        .btn-footers {
            display: inline-block;
            position: relative;
            width: 40px;
            height: 40px;
            background-image: url(res:btn-footers.png);
            margin-left: 20px;
        }
        .btn-footers-area{
            display: block;
            position: absolute;
            text-align: center;
            bottom: -20px;
            left: 0;
            right: 0;
        }
        .btn-footers-area .version {
            display: inline-block;
            position: absolute;
            text-align: center;
            bottom: -28px;
            left: 26px;
        }
        .btn-footers.btn-kill {
            background-position: -80px 0;
        }
        .btn-footers.btn-kill:hover {
            background-position: -120px 0;
         }
        .btn-footers.btn-restart {
            background-position: 0px 0;
         }
        .btn-footers.btn-restart:hover {
            background-position: -40px 0;
         }
        .btn-footers.btn-top {
            background-position: -240px 0;
            margin-left: 20px;
        }
        .btn-footers.btn-top:hover,  .btn-footers.btn-top.topmost {
            background-position: -280px 0;
         }
        .btn-footers.btn-debug {
            background-position: -160px 0;
         }
        .btn-footers.btn-debug:hover {
            background-position: -200px 0;
         }
        .btn-footers.btn-about {
            background-position: -320px 0;
         }
        .btn-footers.btn-about:hover {
            background-position: -360px 0;
         }
        .btn-footers.btn-power {
            background-position: -400px 0;
         }
        .btn-footers.btn-power:hover {
            background-position: -440px 0;
         }
        .btn-footers.protect-stat {
            margin-left: 0px;
        }
        .btn-footers.protect-stat.not-protected {
            background-position: -480px 0;
        }
        .btn-footers.protect-stat.protected {
            background-position: -520px 0;
        }
        .btn-footers.protect-stat.no-danger {
            background-position: -560px 0;
        }

         /* Tooltip */
        .window-tooltips-top {
            display: block;
            position: absolute;
            top: 0;
            height: 2px;
            left: 0;
            right: 0;
            z-index: 20;
            overflow: visible;
        }
        .window-tooltips-bottom {
            display: block;
            position: absolute;
            bottom: 0;
            height: 2px;
            left: 0;
            right: 0;
            z-index: 20;
            overflow: visible;
        }

        .tooltip {
            display: inline-block;
            background-color: #000;
            border-radius: 4px;
            padding: 4px 8px;
            color: #fff;
            text-align: center;
            z-index: 20;
            opacity: 0;
            transform: scale(0);
            transition: transform linear 100ms, opacity linear 100ms;
            position: absolute;
        }
        .tooltip.shown {
           transform: scale(1);
           display: inline-block;
           opacity: 1;
        }

        /*Tab*/
        .window-tab-con {
            text-align: center;
            height: 40px;
            position: absolute;
            left: 0;
            right: 0;
            bottom: -23px;
        }
        .window-tab {
            display: inline-block;
            position: relative;
            padding: 0;
            width: auto;
            word-break: keep-all;
            background-color: rgba(0, 0, 0, .6);
            border-radius: 20px;
        }
        .window-page {
            display: none;
            padding: 10px;
        }
        .window-page.active {
             display: block;  
        }
        .btn-tab {
            display: inline-block;
            padding: 5px 15px;
            background-color: transparent;
            color: #fff;
            margin: 0;
            border-radius: 20px;
            text-decoration: none;
        }
        .btn-tab.active{
            background-color: #fff;
            box-shadow: 0 0 7px rgba(0,0,0,.5);
            color: #000;
        }
        .btn-tab:hover {
            color: #50c6ff
        }
        .btn-tab.active:hover {
            color: #000;
         }

        /* Button*/
        .btn-common {
            display: inline-block;
            border-radius: 20px;
            padding: 5px 15px;
            background-color: #cdcdcd;
            color: #fff;
            text-decoration: none;
        }
        .btn-common:hover{
            background-color: #3ca0d0;
            color: #fff;
        }
        .btn-about {
            position: absolute;
            bottom: 36px;
            left: 5px;
        }
        .btn-quit {
            border-top-right-radius: 0px;
            border-bottom-right-radius: 0px;
        }
        .btn-quit:hover {
            color: #fff;
        }

        .btn-dager {
            background-color: #ff9b40;
        }
        .btn-dager:hover {
            background-color: #ff7a00;
        }
        .btn-primary {
            background-color: #0072ff;
        }
        .btn-primary:hover {
            background-color: #3ca0d0;
        }
        .btn-secondary {
            background-color: #676767;
        }
        .btn-secondary:hover {
            background-color: #91adc4;
        }

        .btn-close-extend-area i {
            display: inline-block;
            width: 13px;
            padding-left: 9px;
            padding-top: 5px;
            background-image: url(res:btn-close.png);
            background-repeat: no-repeat;
            background-position: -1px -2px;
        }
        .btn-close-extend-area {
            position: absolute;
            top: -10px;
            right: 15px;
            display: inline-block;
            width: 30px;
            height: 30px;
            border: 3px solid #fff;
            border-radius: 50%;
            background-color: #ff6440;
            color: #fff;
            margin: 0;
            padding: 0;
            text-decoration: none;
        }
        .btn-close-extend-area:hover {
            background-color: #ff3100;
        }

        .op-item {
            height: 46px;
            cursor: pointer;
            display: block;
            margin-top: 5px;
            padding: 3px;
            text-decoration: none;
        }
        .op-item span {
            display: inline-block;
            vertical-align: middle;
            font-size: 18px;
            color: #101;
            margin-left: 10px;
        }
        .op-item img {
            display: inline-block;
            width: 40px;
            height: 40px;
            background-image: url(res:btn-footers.png);
            vertical-align: middle;
        }
        .op-item img.shutdown {
            background-position: -640px 0;
        }
        .op-item img.reboot {
            background-position: -680px 0;
        }
        .op-item img.quit {
            background-position: -600px 0;
        }
        .op-item:hover {
            border-radius: 10px;
            box-shadow: 0 0 7px rgba(0,0,0,.5);
        }

        .new-ver{
            margin-top: 10px;
            text-align: center;
            color: #fff;
            margin-bottom: 10px;
        }
        .new-ver .ver {
            font-size: 16px;
        }
        .new-ver .text {
            display: block;
            font-size: 25px;
            font-weight: bold;
        }

        .cfg-link {
            display: inline-block;
            width: 132px;
            margin-top: 4px;
            position: relative;
        }
        .cfg-link-left {
            
        }
        .cfg-link-right {
            float: right;
        }
        .cfg-link::after {
            display: inline-block;
            position: absolute;
            left: -29px;
            top: -3px;
            width: 26px;
            height: 26px;
            background: url(res:link-icons.png) no-repeat 0px 0;
        }

        #link_unload_netfilter::after {
            background-position: -78px 0px;
        }
        #link_locate_jiyu_position::after {
            background-position: -52px 0px;
        }
        #link_read_jiyu_password2::after {
            background-position: -26px 0px;
        }
        #link_more_settings::after {
            background: url(res:link-icons.png) no-repeat 0px 0;
        }
        #link_attact::after {
            background-position: -104px 0px;
        }

        #link_close_extend_area {
            z-index: 20;
        }
        #commands_help_area {
            display: block;
            width: 100%;
            height: 300px;
            overflow: scroll;
            font-size: 12px;
            vertical-scrollbar: my-v-scrollbar;
            horizontal-scrollbar: my-h-scrollbar;
        }

        /*Status area*/
        #status_area {
            width: 100%;
            height: 180px;
            overflow: scroll;
            font-size: 12px;
            font-family: SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
            vertical-scrollbar: my-v-scrollbar;
            horizontal-scrollbar: my-h-scrollbar;
            overflow: scroll;
            padding-bottom: 5px;
            padding-right: 5px;
        }
        #status_area div {
            width: auto;
            white-space: pre;
        }

        /* Utitles*/
        .m-0 {
            margin: 0px;
        }
        .ml-0 {
            margin-left: 0;
        }
        .mt-0 {
            margin-top: 0;
        }
        .mt-1 {
            margin-top: 3px;
        }
        .mt-2 {
            margin-top: 5px;
        }
        .mt-3 {
            margin-top: 8px;
        }
        .ml-1 {
            margin-left: 3px;
        }
        .ml-2 {
            margin-left: 5px;
        }
        .ml-3 {
            margin-left: 8px;
        }
        .p-0 {
            padding: 0px;
        }
        .p-3{
            padding: 10px;
        }

        .text-black {
            color: #000 !important;
        }
        .text-info {
            color: #17a2b8 !important;
        }
        .text-danger {
            color: #dc3545 !important;
        }
        .text-success {
            color: #28a745 !important;
        }
        .text-warning {
            color: #d58300;
        }
        .text-secondary {
            color: #6c757d !important;
        }
        .text-primary {
            color: #007bff !important;
        }

        .text-center {
            text-align: center;
        }
        .text-right {
            text-align: right;
        }

        label {
            display: inline-block;
            margin-bottom: .5rem;
        }
        .form-group {
            margin-bottom: 15px;
        }


        #page_about {
            text-align:center;
        }
        .alert {
            display: block;
            position: relative;
            padding: 12px 20px;
            margin-bottom: 1rem;
            border: 1px solid transparent;
            border-radius: 6px;
        }
        .alert-success {
            color: #155724;
            background-color: #d4edda;
            /*border-color: #c3e6cb;*/
        }

        /* Check box */
        .form-check {
            position: relative;
            display: inline-block;
        }
        .form-item {
            position: relative;
            display: block;
        }
        .form-check label  {
            vertical-align: middle;
            height: 26px;
            line-height: 26px;
            margin-bottom: 0;
        }
        .form-check input[type=checkbox] {
            background: url(res:checkboxs.png) no-repeat 0px 0;
            background-position: 0 0px;
            width: 26px;
            height: 26px;
        }
        .form-check input[type=checkbox]:hover {  background-position:  -26px 0;   }
        .form-check input[type=checkbox]:checked {  background-position:  -52px 0;  }
        .form-check input[type=checkbox]:checked:hover { background-position:  -78px 0;  }
        .form-check input[type=checkbox]:disabled { background-position:  -104px 0;   }
        .form-check input[type=checkbox]:checked:disabled { background-position:  -130px 0;   }
        
        /* Tooltip */
        * popup[role="tooltip"] {
            display: inline-block;
            word-break: break-word;
            background: #000;
            color: #fff;
            border-radius: 6px;
            padding: 8px;
            max-width: 300px;
        }

        @set my-v-scrollbar {
            .prev {
                display: none;
            }
            .next {
                display: none;
            }
            .base,
            .next-page,
            .prev-page {
                background: white;
                border-left: none;
            }
            .slider {
                background: #ddd;
                border-radius: 6px;
                border: 2px solid #fff;
            }
            .slider:hover {
                background: #999;
            }
            .slider:active {
                background: #888;
            }
            .base:disabled {
                background: none;
            }
            .base {
                width: 10dip;
            }
            /* explicit declaration of its width */
            .corner {
                background: transparent;
            }
        }
        @set my-h-scrollbar {
            .prev {
                display: none;
            }
            .next {
                display: none;
            }
            .base,
            .next-page,
            .prev-page {
                background: white;
                border-left: none;
            }
            .slider {
                background: #ddd;
                border-radius: 6px;
                border: 2px solid #fff;
            }
            .slider:hover {
                background: #999;
            }
            .slider:active {
                background: #888;
            }
            .base:disabled {
                background: none;
            }
            .base {
                height: 10dip;
            }
            /* explicit declaration of its width */
            .corner {
                background: transparent;
            }
        }
    </style>
</head>
<body class="window-shadow">

    <div class="window-box" id="wnd">

        <!--窗口-->
        <div class="window-area">
            <!--标题栏-->
            <div class="window-title-area" id="title-area">
                <img src="res:icon-main-small.png" id="title-icon" />
                <h5 id="title">JiYu Trainer Main Window</h5>
                <a class="title-min" id="btn_min" href="#" title="最小化"></a>
                <a class="title-close" id="btn_close" href="#" title="关闭"></a>
            </div>
            <!--主状态图标-->
            <div class="main-state">
                <div class="inner">
                    <img class="state-not-found" id="status_icon" />
                </div>
                <br /><span class="status-text" id="status_text_main">正在初始化</span>
                <br /><span class="status-text2" id="status_text_more">...</span>
            </div>
        </div>
        <!--工具提示弹出层-->
        <div class="window-tooltips-top">
            <div class="tooltip" id="tooltip_fast" style="top: 100px; left: 30px; right: 30px"></div>
        </div>
        <div class="window-tooltips-bottom">
            <div class="tooltip tooltip-vesion" style="bottom: 90px; left: 75px; width: 150px">当前版本 ：V1.7.6<br /><small>点击查看帮助</small></div>
            <div class="tooltip tooltip-jiyu-pid" style="bottom: 86px; left: 30px; width: 300px;padding-top:8px;padding-bottom:8px">StudentMain.exe PID : <span id="status_jiyu_pid">未知</span><br /><small>点击杀死极域电子教室</small></div>
            <div class="tooltip tooltip-jiyu-restart" style="bottom: 86px; left: 30px; width: 300px;padding-top:8px;padding-bottom:8px"><h4 class="m-0">极域位置</h4><span id="status_jiyu_path" style="color: #cecece">未找到极域电子教室</span></div>
            <div class="tooltip tooltip-topmost" id="tooltip_top" style="bottom: 83px; left: 83px; width: 70px">本窗口置顶</div>
            <div class="tooltip tooltip-sets" style="bottom: 83px; left: 203px; width: 80px">控制台和设置</div>
            <div class="tooltip tooltip-power" style="bottom: 83px; left: 281px; width: 55px">电源控制</div>
            <div class="tooltip tooltip-protect-stat" style="bottom: 83px; left: 30px; width: 300px;" id="status_protect">您未受到极域电子教室的控制</div>
        </div>
        <!--底栏-->
        <div class="window-footer-area">
            <!--关于按钮-->
            <a class="btn-footers btn-about" id="btn_about" href="#"></a>
            <!--底栏区域-->
            <div class="btn-footers-area">
                <a class="btn-footers protect-stat no-danger" id="btn_protect_stat"></a>
                <a class="btn-footers btn-top" id="btn_top" href="#"></a>
                <a class="btn-footers btn-kill" id="btn_kill" href="#" style="display:none;"></a>
                <a class="btn-footers btn-restart" id="btn_restart" href="#"></a>
                <a class="btn-footers btn-debug" id="btn_debug" href="#"></a>
                <a class="btn-footers btn-power" id="btn_power" href="#"></a>
                <span class="version"><img src="res:version-text.png" /></span>
            </div>
        </div>
        <!--扩展区域-->
        <div class="window-extend-area" id="extend_area">
            <!--Tab 按钮-->
            <div class="window-tab-con">
                <div class="window-tab">
                    <a class="btn-tab active" href="#" id="btn_tab_setting" style="width: 30px">设置</a><a class="btn-tab" href="#" id="btn_tab_debug" style="width: 30px;">调试</a><a class="btn-tab" href="#" id="btn_tab_about" style="width: 30px;">关于</a>
                </div>
            </div>
            <!--Tab 关闭-->
            <a href="#" id="link_close_extend_area" class="btn-close-extend-area"><i>&nbsp;</i></a>
            <!--Tab 区域-->
            <div class="window-page active" id="page_setting">
                <h4 class="mb-0">程序配置</h4>
                <div class="from-group">

                    <div style="width: 180px;" class="form-check" title=" 是否监控极域运行进程，通常教师可以通过极域远程执行应用程序，如果你勾选此项则会监控极域运行进程，你可以选择允许或阻止教师在此电脑上运行程序">
                        <input type="checkbox" id="check_allow_op" checked="checked" />
                        <label for="check_allow_op">监控极域运行进程</label>
                    </div>
                    <div class="form-check" style="width: 150px;" title="勾选此选项后极域运行程序或CMD将不会提醒您而是直接拒绝（用极域打开文件也不能）">
                        <input type="checkbox" id="check_band_op">
                        <label for="check_band_op">禁止极域运行进程</label>
                    </div>

                    <div class="form-check" style="width: 180px;" title="如果你需要将屏幕广播窗口置顶，请勾选此选项，然后在屏幕广播中选择置顶。本软件默认不允许屏幕广播窗口置顶">
                        <input type="checkbox" id="check_allow_top" />
                        <label for="check_allow_top">允许屏幕广播窗口置顶</label>
                    </div>
                    <div style="width: 140px;" class="form-check" title="是否允许教师通过极域结束您电脑上的进程，默认不允许。">
                        <input type="checkbox" id="check_probit_terminate_process" checked="checked" />
                        <label for="check_probit_terminate_process">禁止极域结束进程</label>
                    </div>

                    <div class="form-check" style="width: 180px;" title="取消勾选此选项后教师将无法通过极域查看你的电脑屏幕。默认允许此选项">
                        <input type="checkbox" id="check_allow_monitor" />
                        <label for="check_allow_monitor">允许教师监视你的电脑</label>
                    </div>
                    <div class="form-check" style="width: 140px;" title="是否允许教师通过极域关闭您电脑上的窗口，默认不允许。 ">
                        <input type="checkbox" id="check_probit_close_window" />
                        <label for="check_probit_close_window">禁止极域关闭窗口</label>
                    </div>

                    <div class="form-check" style="width: 180px;" title="勾选此选项后教师可通过极域控制您的电脑。默认不允许此选项">
                        <input type="checkbox" id="check_allow_control" />
                        <label for="check_allow_control">允许教师控制你的电脑</label>
                    </div>
                    <div class="form-check" style="width: 140px;">
                        <input type="checkbox" id="check_auto_update">
                        <label for="check_auto_update">自动更新软件</label>
                    </div>

                    <div class="form-item" style="margin-top: 16px; ">
                        <a href="#" id="link_unload_netfilter" class="cfg-link cfg-link-left text-info" style="margin-left: 30px" title="本功能可以卸载极域的网络过滤驱动，来防止教师通过极域限制您电脑的上网。本功能开机后卸载一次即可。">解除网络控制</a>
                        <a href="#" id="link_read_jiyu_password2" class="cfg-link cfg-link-right text-info" title="本软件可尝试破解极域电子教室的卸载和解锁密码">破解极域的密码</a>
                    </div>
                    <div class="form-item">
                        <a href="#" id="link_more_settings" class="cfg-link cfg-link-left text-info" style="margin-left: 30px">软件高级配置</a>
                        <a href="#" id="link_locate_jiyu_position" class="cfg-link cfg-link-right text-info" title="如果本软件并没有找到极域电子教室或者是寻找的路径不正确，您可以手动选择">选择极域主进程位置</a>
                    </div>

                </div>
                <div class="text-center" style="margin-top:14px;">
                    <a href="#" id="link_save_setting" class="btn-common">保存设置</a>&nbsp;
                    <a href="#" id="link_setto_default" class="btn-common">恢复默认</a>&nbsp;
                </div>
            </div>
            <div class="window-page" id="page_debug">
                <h4 class="mb-0">程序输出和调试命令</h4>
                <div id="status_area">
                </div>
                <div style="margin-top:5px;">
                    <input id="input_cmd" style="width:200px;" />&nbsp;
                    <a href="#" class="btn-common" id="link_runcmd">执行</a>
                    <a href="#" class="btn-common" id="link_more_cmd" title="测试命令">▲</a>
                </div>
            </div>
            <div class="window-page" id="page_about">
                <div style="position: absolute; display: block; left: 0px; top: -20px; right: 0;">
                    <img src="res:logo128.png" style="width:100px; height:100px;border-radius: 30px; box-shadow: 0 0 13px rgba(0,0,0,.5); background-color: #fff;" />
                </div>
                <div style="margin-top: 70px">
                    <img src="res:logo-text.png" style="width:230px; height:auto" />
                </div>
                <div style="text-align:center">
                    V.1.7.6.0515
                    &copy; 2021 快乐的梦鱼
                </div>
                <br />
                <a href="#" id="link_help" class="link">软件帮助</a>&nbsp;|&nbsp;<a href="#" id="link_checkupdate" class="link">检查更新</a>&nbsp;<!--|&nbsp;<a href="#" id="link_github" class="link">Github</a>&nbsp;-->|&nbsp;<a href="#" id="link_uninstall" class="link" style="color: rgb(228, 126, 0);font-size: 12px;" title="从此计算机上卸载 JiYu Trainer ">卸载软件</a><br />
                <br />
                <div class="alert alert-success">
                    你喜欢 JiYu Trainer 吗？如果你喜欢，不妨向你的好友推荐一下这个软件吧！
                </div>
            </div>
        </div>
        <!--扩展区域结束-->
        <!--普通提示框-->
        <div class="window-extend-area with-mask upper" id="common_message">
            <a href="#" class="title-close black" id="common_message_close"></a>
            <h3 id="common_message_title">测试消息</h3>
            <p id="common_message_text">测试消息文字，尝试 DEBUG</p>
            <div class="text-right" style="position: absolute;bottom: 0; left: 15px; right: 15px; height :45px;">
                <a href="#" class="btn-common btn-primary" id="common_message_close2">我知道了</a>
            </div>
        </div>
        <div class="window-extend-area-mask upper"></div>
        <!--更多命令提示框-->
        <div class="window-extend-area with-mask upper" id="cmds_message" style="bottom: 90px; top :30px; left: -15px; right: -15px; padding: 10px 20px; ">
            <a href="#" class="title-close black" id="cmds_message_close"></a>
            <h3>调试命令</h3>
            <p class="text-danger">以下命令仅供调试使用，部分可能存在危险</p>
            <div id="commands_help_area">
                <span>killst 杀死极域电子教室</span><br />
                <span>rerunst 重新运行极域电子教室</span><br />
                <span>kill [pid] 结束指定 pid 的进程</span><br />
                <span>findps [processName] 查找指定名称的进程 pid</span><br />
                <span>ss 查通知极域病毒端强制爆破</span><br />
                <span>sss 立即关机</span><br />
                <span>ssr 立即重启</span><br />
                <span>sst [second] 定时在指定 second 秒后关机</span><br />
                <span>ssss 内核关机</span><br />
                <span>sssr 内核重启</span><br />
                <span>ckend 分离本程序与极域</span><br />
                <span>whereisi 显示当前程序目录</span><br />
                <span>version 显示当前程序版本</span><br />
                <a href="#" id="link_hide">hide 隐藏主界面</a><br />
                <a href="#" id="link_read_jiyu_password" class="text-info">jypasswd 破解极域密码</a><br />
                <span>exit 强制退出程序</span><br />
                <span>testupdate</span><br />
                <span>crash</span><br />
                <span>attack</span><br />
                <span>config</span><br />
                <span>uj</span><br />
                <span>inspector</span><br />
                <span>unloaddrv</span><br />
                <span>fuljydrv 强制卸载极域的保护驱动 <span class="text-danger">(有蓝屏风险 慎用)</span></span><br />
            </div>

        </div>
        <div class="window-extend-area-mask upper"></div>
        <!--初次提示框-->
        <div class="window-extend-area with-mask upper" id="hello_message">
            <a href="#" id="link_close_hello_message" class="btn-close-extend-area"><i>&nbsp;</i></a>
        </div>
        <div class="window-extend-area-mask upper"></div>
        <!--电源提示框-->
        <div class="window-extend-area with-mask upper" id="power_message" style="bottom: 130px; top :105px; left: -10px; right: -10px; padding: 10px 20px; ">
            <a href="#" id="link_close_power_message" class="btn-close-extend-area"><i>&nbsp;</i></a>
            <h3>选择要执行的操作</h3>
            <a class="op-item" id="link_shutdown" href="#">
                <img class="shutdown" />
                <span>关闭计算机</span>
            </a>
            <a class="op-item" id="link_reboot" href="#">
                <img class="reboot" />
                <span>重启计算机</span>
            </a>
            <a class="op-item" id="link_exit" href="#">
                <img class="quit" />
                <span>退出本软件</span>
            </a>
        </div>
        <div class="window-extend-area-mask upper"></div>
        <!--更新提示框-->
        <div class="window-extend-area with-mask upper" id="update_message">
            <div class="new-ver">
                <span class="text">发现软件新版本</span>
                <span class="ver"><span id="update_message_newver"></span> 更新内容</span>
            </div>
            <p id="update_message_text">
            </p>
            <p style="position: absolute;bottom: 60px; left: 15px; right: 15px; height :28px;text-align:center; font-size: 12px;color:rgb(108, 117, 125)">更新到最新版本，可以获得更稳定的使用体验！<br />更新过程中会暂时关闭极域</p>
            <div class="text-right" style="position: absolute;bottom: 0; left: 15px; right: 15px; height :45px;text-align:center;">
                <a href="#" class="btn-common btn-primary" id="update_message_update">立即更新!</a>
                <a href="#" class="btn-common ml-2" id="update_message_close">下次再说</a>
            </div>
        </div>
        <div class="window-extend-area-mask upper"></div>
        <!--更新最新提示框-->
        <div class="window-extend-area with-mask upper" id="isnew_message">
            <div class="new-ver">
                <span class="text">检测更新</span>
                <span class="ver" id="isnew_message_title">你的 JiYuTrainer 是最新的版本！</span>
            </div>
            <p id="isnew_message_text">
            </p>
            <div class="text-right" style="position: absolute;bottom: 0; left: 15px; right: 15px; height :45px;text-align:center;">
                <a href="#" class="btn-common btn-primary" id="isnew_message_close">关闭</a>
            </div>
        </div>
        <div class="window-extend-area-mask upper"></div>
        <!--退出提示框-->
        <div class="window-extend-area with-mask upper" id="exit_message" style="bottom: 135px; top :135px; left: -10px; right: -10px; padding: 10px 20px;">
            <a href="#" class="btn-close-extend-area" id="exit_message_close"><i>&nbsp;</i></a>
            <h3>极域正在运行，您是否还要退出？</h3>
            <p>
                当前正在控制极域，退出软件会非常不安全。
                <br />你可以选择强制分离极域，但会导致极域脱离控制(不推荐)；也可以选择退出本软件，并杀死极域。
            </p>
            <div class="text-right" style="position: absolute;bottom: 0; left: 0px; right: 15px; height :45px;">
                <a href="#" class="btn-common btn-secondary" id="exit_message_kill_and_exit">杀死极域退出</a>
                <a href="#" class="btn-common" id="exit_message_end_ctl_and_exit">分离极域退出(不推荐)</a>
                <a href="#" class="btn-common btn-primary" id="exit_message_close2">取消</a>
            </div>
        </div>
        <div class="window-extend-area-mask upper"></div>
    </div>
    <script type="text/tiscript">

        const body = $(body);
        const extend_area = $(#extend_area);
        const common_message = $(#common_message);

        //Button events
        $(#btn_close).onClick = function() {
            closeWindow();
        }
        $(#btn_min).onClick = function()
        {
            body.onAnimationEnd = function(){
                 view.state = View.WINDOW_MINIMIZED;
                 if(body.attributes.hasClass("minize"))
                     body.attributes.removeClass("minize");
            }
            body.attributes.addClass("minize");
        }
        $(#btn_debug).onClick = function()
        {
            if(extend_area.attributes.hasClass("shown")) {
                extend_area.attributes.removeClass("shown");
                extend_area.attributes.addClass("hidden");
                this.timer(200ms, function() {
                     extend_area.attributes.removeClass("hidden");
                });
            }
            else extend_area.attributes.addClass("shown");
        }

        $(#link_close_extend_area).onClick = function(){
            if(extend_area.attributes.hasClass("shown")) {
                extend_area.attributes.removeClass("shown");
                extend_area.attributes.addClass("hidden");
                this.timer(200ms, function() {
                     extend_area.attributes.removeClass("hidden");
                });
            }
        }
        /*$(#link_github).onClick = function (){ view.toGithub();  }*/
        $(#link_more_cmd).onClick = function (){ $(#cmds_message).attributes.addClass("shown");  }
        $(#link_close_power_message).onClick = function (){ common_close_extend_area($(#power_message));  }
        $(#link_close_hello_message).onClick = function (){ common_close_extend_area($(#hello_message));  }
        function close_cmds_tip(){common_close_extend_area($(#cmds_message));}

        function common_close_extend_area(area){
            if(area.attributes.hasClass("shown")) {
                area.attributes.removeClass("shown");
                area.attributes.addClass("hidden");
                body.timer(200ms, function() {
                     area.attributes.removeClass("hidden");
                });
            }
        }
        $(#common_message_close).onClick = function (){ common_close_extend_area(common_message); }
        $(#common_message_close2).onClick = function (){ common_close_extend_area(common_message); }
        $(#update_message_close).onClick =  function (){ common_close_extend_area($(#update_message)); }
        $(#update_message_update).onClick =  function (){ common_close_extend_area($(#update_message)); }
        $(#exit_message_close).onClick =  function (){ common_close_extend_area($(#exit_message)); }
        $(#exit_message_close2).onClick =  function (){ common_close_extend_area($(#exit_message)); }
        $(#cmds_message_close).onClick =  function (){ common_close_extend_area($(#cmds_message)); }
        $(#isnew_message_close).onClick =  function (){ common_close_extend_area($(#isnew_message)); }

        //Tooltips
        $(#btn_kill).on("mouseenter", function () { $(.tooltip.tooltip-jiyu-pid).attributes.addClass("shown"); });
        $(#btn_kill).on("mouseleave", function () { $(.tooltip.tooltip-jiyu-pid).attributes.removeClass("shown"); });
        $(#btn_restart).on("mouseenter", function () { $(.tooltip.tooltip-jiyu-restart).attributes.addClass("shown"); });
        $(#btn_restart).on("mouseleave", function () { $(.tooltip.tooltip-jiyu-restart).attributes.removeClass("shown"); });
        $(#btn_about).on("mouseenter", function () { $(.tooltip.tooltip-vesion).attributes.addClass("shown"); });
        $(#btn_about).on("mouseleave", function () { $(.tooltip.tooltip-vesion).attributes.removeClass("shown"); });
        $(#btn_top).on("mouseenter", function () { $(.tooltip.tooltip-topmost).attributes.addClass("shown"); });
        $(#btn_top).on("mouseleave", function () { $(.tooltip.tooltip-topmost).attributes.removeClass("shown"); });
        $(#btn_debug).on("mouseenter", function () { $(.tooltip.tooltip-sets).attributes.addClass("shown"); });
        $(#btn_debug).on("mouseleave", function () { $(.tooltip.tooltip-sets).attributes.removeClass("shown"); });
        $(#btn_protect_stat).on("mouseenter", function () { $(.tooltip.tooltip-protect-stat).attributes.addClass("shown"); });
        $(#btn_protect_stat).on("mouseleave", function () { $(.tooltip.tooltip-protect-stat).attributes.removeClass("shown"); });
        $(#btn_power).on("mouseenter", function () { $(.tooltip.tooltip-power).attributes.addClass("shown"); });
        $(#btn_power).on("mouseleave", function () { $(.tooltip.tooltip-power).attributes.removeClass("shown"); });

        $(#tooltip_fast).onClick = function() { $(#tooltip_fast).attributes.removeClass("shown"); }
        $(#btn_power).onClick = function() { $(#power_message).attributes.addClass("shown"); }
        $(#link_exit).onClick = function() { $(#power_message).attributes.removeClass("shown"); }
        $(#link_reboot).onClick =  $(#link_exit).onClick;
        $(#link_shutdown).onClick =  $(#link_exit).onClick;

        //Tabs
        $(#btn_tab_setting).onClick = function() { selectTab(this, $(#page_setting)); }
        $(#btn_tab_debug).onClick = function() { selectTab(this, $(#page_debug)); }
        $(#btn_tab_about).onClick = function() { selectTab(this, $(#page_about)); }

        function showExitMessage() {
            $(#exit_message).attributes.addClass("shown");
        }
        function selectTab(btn, targetTab){
            $(.btn-tab.active).attributes.removeClass("active");
            $(.window-page.active).attributes.removeClass("active");
            btn.attributes.addClass("active");
            targetTab.attributes.addClass("active");
        }

        function runInspector()
        {
            if(!view.inspectorIsPresent()) // native function, defined in sciter.cpp
                System.exec( System.home("inspector.exe") );
            // give it a time to start ...
             $(body).timer(500, function() {
                if( var connectToInspector = view.connectToInspector )
                    connectToInspector($(html));
            });
        }
        function showFastTip(){
            const tooltip_fast = $(#tooltip_fast);
            tooltip_fast.attributes.addClass("shown");
            body.timer(4s, function() { tooltip_fast.attributes.removeClass("shown") });
        }
        function closeFastTip(){
            $(#tooltip_fast).attributes.removeClass("shown")
        }
        function showWindow(){
            body.onAnimationEnd = function(){ };
            if(!body.attributes.hasClass("shown"))
                body.attributes.addClass("shown");
        }

        const exit_message = $(#exit_message);
        const hello_message = $(#hello_message);
        const power_message = $(#power_message);
        const update_message = $(#update_message);

        function closeWindow(){
            if(extend_area.attributes.hasClass("shown")) extend_area.attributes.removeClass("shown");
            else  if(update_message.attributes.hasClass("shown")) return;
            else  if(common_message.attributes.hasClass("shown")) common_message.attributes.removeClass("shown");
            else  if(power_message.attributes.hasClass("shown")) power_message.attributes.removeClass("shown");
            else  if(exit_message.attributes.hasClass("shown"))  exit_message.attributes.removeClass("shown");
            else  if(hello_message.attributes.hasClass("shown")) hello_message.attributes.removeClass("shown");
            else {
                body.onAnimationEnd = function(){
                    view.exitClick();
                };
                body.attributes.removeClass("shown");
            }
        }
        function checkGfx()
        {
            if(!view.backend)
                view.msgbox(#alert,"Failed to initialize layered window!");
             return ["Unknown","GDI+","D2D/WARP","D2D/DX"][view.backend];
        }
        function self.ready()
        {
            body.timer(1,:: this.attributes.addClass("shown"));
            view.docunmentComplete();
        }

        //Drag and drop
        function movable() // install movable window handler
        {
          var xoff,yoff;
          var dragging = false;
          var body = $(body);

          function doDrag()
          {
            while( dragging )
              view.doEvent();
          }

          function onMouseDown(evt)
          {
            if( evt.target !== body && evt.target !== $(#title-area) && evt.target !== $(#title-icon) && evt.target !== $(#title))
              return false;
            xoff = evt.x;
            yoff = evt.y;
            dragging = true;
            view.root.capture(true);
            doDrag();
            return true;
          }

          function onMouseMove(evt)
          {
            if( dragging )
            {
              view.move( evt.xScreen - xoff, evt.yScreen - yoff, true); // true - x,y are coordinates of the client area on the screen
              return true;
            }
            return false;
          }

          function stopDrag()
          {
            if(dragging)
            {
              dragging = false;
              view.root.capture(false);
              return true;
            }
            return false;
          }

          function onMouseUp(evt) { return stopDrag(); }
          function onKeyDown(evt) { if(evt.keyCode == Event.VK_ESCAPE ) return stopDrag(); }

          // hookup event handlers:
          view.root.subscribe(onMouseDown, Event.MOUSE, Event.MOUSE_DOWN );
          view.root.subscribe(onMouseUp, Event.MOUSE, Event.MOUSE_UP );
          view.root.subscribe(onMouseMove, Event.MOUSE, Event.MOUSE_MOVE );
          view.root.subscribe(onKeyDown, Event.KEY, Event.KEY_DOWN );
          return false;
        }

        movable();

        self.on("complete", function() {
          stdout.println("got complete");
          //$(button#test).text = "complete";
        });

    </script>

</body>
</html>
